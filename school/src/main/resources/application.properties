spring.application.name=School Management System
server.port=8080

# ================================================================================
# MYSQL DATABASE CONFIGURATION
# ================================================================================
# Primary database connection URL with production-ready settings
spring.datasource.url=jdbc:mysql://localhost:3306/schooldb?\
useSSL=false&\
serverTimezone=UTC&\
useUnicode=true&\
characterEncoding=utf8&\
allowPublicKeyRetrieval=true&\
createDatabaseIfNotExist=true&\
autoReconnect=true&\
maxReconnects=3&\
initialTimeout=2

# Database credentials
spring.datasource.username=root
spring.datasource.password=root

# JDBC driver
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ================================================================================
# JPA / HIBERNATE CONFIGURATION
# ================================================================================
# DDL auto: update (safe for production - won't drop tables)
spring.jpa.hibernate.ddl-auto=update

# Show SQL in logs (disable in production for performance)
spring.jpa.show-sql=false

# Format SQL output
spring.jpa.properties.hibernate.format_sql=false

# Additional Hibernate properties
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# Enable second-level cache (optional)
spring.jpa.properties.hibernate.cache.use_second_level_cache=false

# ================================================================================
# HIKARI CONNECTION POOL CONFIGURATION
# ================================================================================
# Maximum number of connections in the pool
spring.datasource.hikari.maximum-pool-size=10

# Minimum number of idle connections
spring.datasource.hikari.minimum-idle=5

# Maximum time a connection can sit idle in the pool (10 minutes)
spring.datasource.hikari.idle-timeout=600000

# Maximum lifetime of a connection in the pool (30 minutes)
spring.datasource.hikari.max-lifetime=1800000

# Maximum time to wait for a connection from the pool (30 seconds)
spring.datasource.hikari.connection-timeout=30000

# Test query to validate connections
spring.datasource.hikari.connection-test-query=SELECT 1

# Pool name for monitoring
spring.datasource.hikari.pool-name=SchoolDB-HikariPool

# Enable connection leak detection (10 seconds)
spring.datasource.hikari.leak-detection-threshold=10000

# ================================================================================
# BACKUP & RESTORE CONFIGURATION
# ================================================================================

# --- Backup Storage Location ---
app.backups.dir=${user.home}/SchoolApp/backups

# --- Backup Encryption Password ---
app.backups.password=rezaul2001

# --- MySQL Bin Path ---
# Path to MySQL bin folder (contains mysqldump and mysql executables)
# Windows default: C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin
# Linux default: /usr/bin
# Mac default: /usr/local/mysql/bin
app.mysql.bin.path=C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin

# --- WinRAR Installation Path ---
# Path to WinRAR installation folder (contains Rar.exe)
# Windows default: C:\\Program Files\\WinRAR
# This is required for backup encryption/decryption
# Download from: https://www.win-rar.com/
app.winrar.path=C:\\Program Files\\WinRAR

# --- Backup Retention ---
# Maximum number of backups to keep (older ones auto-deleted)
# Default: 4 (keeps 4 most recent backups)
app.backups.retention=4

# --- Google Drive Sync ---
# Backups are automatically copied to Google Drive if available
# Expected drive letter: G:\My Drive\School Backup
# Set to false to disable Google Drive sync
app.backups.google-drive.enabled=true
app.backups.google-drive.path=G:\\My Drive

# ================================================================================
# LOGGING CONFIGURATION
# ================================================================================
# Root logging level
logging.level.root=INFO

# Application logging level
logging.level.com.management.school=INFO

# Hibernate logging (set to DEBUG for SQL debugging)
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# Spring logging
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN

# Log file configuration
logging.file.name=${user.home}/SchoolApp/logs/school-app.log
logging.file.max-size=10MB
logging.file.max-history=30

# Log pattern
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ================================================================================
# JAVAFX CONFIGURATION
# ================================================================================
# Disable JavaFX warnings
javafx.verbose=false



# Document Upload Configuration
# Path where documents will be stored (relative to application root)
document.upload.path=uploads/documents

# Maximum file size for uploads (5MB)
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# Application Settings
spring.application.name=School Management System